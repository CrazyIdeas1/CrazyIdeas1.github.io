## Linux 常用命令学习

### cd 命令

### ls 命令

ls的-h选项只有在有-l时候才会起作用，即ls -lh

du是统计当前目录及子目录的大小，是做累加运算的。

df是统计当前文件夹的状态，即被占用还是处于空闲状态。

### pwd 命令

查看当前所在目录

### mkdir 创建目录

递归创建目录
mkdir -p /dd/ss/rr

### rmdir 移除文件夹

只能删除 空目录

递归删除
remdir -p

### cp 复制文件 或 目录

cp oldFile newFile

-r 递归处理，将指定目录下的文件与子目录一并处理

-v 或 --verbose 显示执行过程

-f 或 --force 强行复制文件或目录， 不论目的文件或目录是否已经存在

### rm 命令
rm -f 强制删除
rm -r 递归删除

rm -i 询问

### mv 移动文件或目录

mv oldFile newFile

-f 强制
-u 只替换以更新过的文件

## 权限知识

drwxrwxr-x ：
- 第一位： d 代表目录，l 代表连接文档，- 代表文件，c 串行接口设备，如键盘
- 后面 九个 字母
  - 三个一组，- 代表没有 此项权限
  - r 读
  - w 写
  - x 执行
  - 第一组 ，属主权限，就是那个人，谁创建的
  - 第二组，属组权限 管理员组，游客组。。。等
  - 第三组 其他用户权限。

### chgrp ：更改文件组属性

chgrp [-r] 属组名 文件名

### chown 同时修改属组和属主

chown 属主名 文件名

###  chmod 更改文件的九个属性

chmod 777 文件名

r = 4,w = 2, x = 1

## 文件内容查看

- ifconfig 查看网络配置，也可以 ip addr
- cat 从第一行开始显示文件的内容
- tac 从文件的最后一行显示
- nl 从第一行 查看，会显示行号
- more 一页一页的显示内容，只能向下翻页，enter是下一行，空格 下一页
- less 可以上下翻动页面，推出是 q。在里面可以输入 /字符 进行查找 
  - /字符 向上查询。 ?字符 向下查询
- head -n 查看头 n 行
- tail -n 倒数 n 行

## Linux 链接
linux 分为 硬连接 和 软连接
- 硬链接 ：假设B是A的硬链接，那么他们指向同一个文件。也就是一个文件拥有多个路径。可以防止误删。类似于备份
- 软链接：类似 window 的快捷方式

### ln 创建链接的命令
- ln 文件  连接名   创建的强链接
- ln -s 文件 链接名 创建的软链接

### echo 输出字符串

echo "sdfsdfsdf" >> 文件名

## vim 学习

### 命令模式
- 一开始进入
- i,a,o 可以输入模式
- hjkl 对应 左上下右 方向移动光标
- 数字 加 空格。可以移动光标多少个
- 数字 加 enter 。可以向下移动光标多少个
### 输入模式
esc 进入 底线命令模式
### 底线命令模式
:w 写入
:q 推出
:wq 保存并退出
! 强制
set nu 设置行号
## 账户

- 添加用户
`useradd` -选项  用户名
`-m` 自动创建这个用户的主目录
 `-G` 指定组
- 删除目录

userdel -r 用户名    ，删除用户并把 主目录删除

- 修改用户
usermod 选项 用户名
修改完成 查看配置文件 /etc/password

- 切换用户

su 用户名

exit 退回之前的用户

hostname 查看主机名
hostname 主机名  修改主机名

- 添加密码

passwd 用户名 ，为 用户 设置密码

- 锁定账户

冻结账户

passwd -l 用户名 ，锁定之后用户不能登陆
passwd -d 用户名 ，没有密码 也不能登陆

-u 解锁

## 组管理

- 创建一个用户组

groupadd 用户组名
 -g 指定端口号

- 查看

cat /etc/group

- 删除用户组

groupdel 组名

- 修改信息 和 权限

groupmod -g 端口 -n 名字  要修改的组名

- 切换用户组

newgrp

## 拓展

`/etc/passwd` 用户信息的一个文件,每一行都代表一个用户
用户名：口令（密码）：用户标识：组标识：注释性描述：主目录：登录Shell

## 磁盘管理

df 列出文件系统整体的磁盘使用量
du 检查当前磁盘的使用量

 -h 参数会显示 M或G 的单位

 -sm 目录所占用的容量

### 挂载外部设备

mount 外部设备的路径  /mnt/名字

### 卸载

umount -f 挂载位置 强制卸载

## 进程管理

在 Linux中，每个程序都有一个进程，每个进程都有一个进程号PID
两种存在方式，前台和后台

服务一般都是 后台，应用一般都是 前台

- ps 查看正在执行的各种进程的信息

`-a` 显示终端运行的所有进程
`-u` 当前用户信息的进程
`-x` 显示后台运行进程的参数

 `|` 管道符， A|B A的结果 会作为 B 处理的对象

 - grep 查找符合条件的字符

ps -选项 | grep 进程名字  对进程进行过滤

ps -ef   可以查看到父进程的信息


- pstree 树状显示，进程树
`-p` 显示父ID
`-u` 显示用户组

- kill -9 🆔id 结束制定进程的ID 

top 查看系统健康状态。

- -d 秒数，指定 top 命令每隔几秒更新。
- -i 使top 不显示任何闲置或者僵尸进程。
- -p 通过指定监控进程ID来仅仅监控某个进程的状态。

## 环境安装的三种方式

## rpm

rpm -qa|grep jdk     检测JDK 版本信息
rpm -e  --nodeps    强制移除

rpm -ivh rpm包       安装 rpm

环境变量的配置文件 在`/etc/profile`里


让文件生效使用 source 命令 如：source /etc/profile



## 解压缩 .tar.gz

tar -zxvf 以.tar.gz结尾的文件

c 创建新的档案文件。如果用户想备份一个目录或是一些文件，就要选择这个选项。相当于打包。 

x 从档案文件中释放文件。相当于拆包。

-z ：是否同时具有 gzip 的属性？亦即是否需要用 gzip 压缩或解压？ 一般格式为xx.tar.gz或xx. tgz 
-j ：是否同时具有 bzip2 的属性？亦即是否需要用 bzip2 压缩或解压？一般格式为xx.tar.bz2  
-v ：压缩的过程中显示文件！这个常用 
-f ：使用档名，请留意，在 f 之后要立即接档名喔！不要再加其他参数！ 
-p ：使用原文件的原来属性（属性不会依据使用者而变） 
--exclude FILE：在压缩的过程中，不要将 FILE 打包！ 





/etc/ld.so.conf 此文件记录了编译时使用的动态库的路径，也就是加载so库的路径。

默认情况下，编译器只会使用/lib和/usr/lib这两个目录下的库文件，而通常通过源码包进行安装时，如果不指定--prefix会将库安装在/usr/local目录下，而又没有在文件/etc/ld.so.conf中添加/usr/local/lib这个目录。



### 笔记

- locate并不真正对硬盘上的文件系统进行查找，而是对文件名数据库进行检索，而且可以使用通配符？和*
- find命令从指定的起始目录开始，递归地搜索其各个子目录，查找满足寻找条件的文件并对之采取相关的操作
- whereis命令只能用于程序名的搜索，而且只搜索二进制文件（参数-b）、man说明文件（参数-m）和源代码文件（参数-s）
- type命令用来显示指定命令的类型，判断给出的指令是内部指令还是外部指令



UNIX系统由内核、shell、文件系统和应用程序等4部分组成。



在 Linux 里，utmp 文件的绝对路径是 /var/run/utmp ，该文件通常用 who 命令来读取；wtmp 文件的绝对路径是 /var/log/wtmp ，该文件通常通过 last 命令来读取。这两个文件都不是普通的文本文件，所以不能用 cat ，less，more 等命令来查看。

utmp日志文件记录有关当前登录的每个用户的信息。因此这个文件会随着用户登录和注销系统而不断变化，它只保留当时联机的用户记录，不会为用户保留永久的记录。系统中需要查询当前用户状态的程序，如 who、w、users、finger等就需要访问这个文件。该日志文件并不能包括所有精确的信息，因为某些突发错误会终止用户登录会话，而系统没有及时更新 utmp记录，因此该日志文件的记录不是百分之百值得信赖的。

wtmp日志文件永久记录每个用户登录、注销及系统的启动、停机的事件。因此随着系统正常运行时间的增加，该文件的大小也会越来越大，增加的速度取决于系统用户登录的次数。该日志文件可以用来查看用户的登录记录，last命令就通过访问这个文件获得这些信息，并以反序从后向前显示用户的登录记录，last也能根据用户、终端tty或时间显示相应的记录。

-f 文件名

指定登录的日志文件（默认是/var/log/wtmp）





DHCP服务：根据UDP协议实现。分为DHCP服务器端和DHCP客户端，其中DHCP服务器端就是设置对应的IP地址池以及DNS服务器地址等信息以动态分配给客户端；DHCP客户端就是从服务器端动态获取IP地址、子网掩码、网关地址、DNS服务器地址等信息











